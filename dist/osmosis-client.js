!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("OsmosisClient",[],t):"object"==typeof exports?exports.OsmosisClient=t():e.OsmosisClient=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function o(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";var s=function(e,t){var o=this,s=function(){o.dialog.classList.remove("osmosis-client-show"),o.backdrop.classList.remove("osmosis-client-backdrop-show")},i=t&&t.root?t.root:"https://osmosissoftware.com";this.root=i+"/products/"+e+"?iframe=true#/",this.product=e,this.dialog=document.createElement("div"),this.dialog.classList.add("osmosis-client"),this.iframe=document.createElement("iframe"),this.iframe.src=this.root,this.backdrop=document.createElement("div"),this.backdrop.classList.add("osmosis-client-backdrop"),this.backdrop.addEventListener("click",s,!1),this.dialog.append(this.iframe),this.closeButton=document.createElement("div"),this.closeButton.classList.add("osmosis-client-close"),this.closeButton.innerHTML="&times;",this.closeButton.addEventListener("click",s,!1),this.dialog.append(this.closeButton),document.body.appendChild(this.dialog),document.body.appendChild(this.backdrop),document.addEventListener("keydown",function(e){27===e.keyCode&&o.close()},!0),this.pages={};var n=new XMLHttpRequest;n.open("GET",i+"/api/v1/products/"+e),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){var e=JSON.parse(n.responseText);for(var t in e.parent_pages){var s=e.parent_pages[t],i=s.title.toLowerCase();for(var r in o.pages[i]=s.id,s.pages){var a=s.pages[r];o.pages[i+"/"+a.title.toLowerCase()]=a.id}}},n.send()};s.prototype.open=function(e){var t=null;if("string"==typeof e){var o=e.replace(/^\/|\/$/g,"").toLowerCase();this.pages[o]?t=this.pages[o]:console.error('Could not find existing page path, "'+o+'"!')}else t=e;null!==t&&(this.iframe.src=this.root+t,this.dialog.classList.add("osmosis-client-show"),this.backdrop.classList.add("osmosis-client-backdrop-show"))},s.prototype.close=function(e){this.dialog.classList.remove("osmosis-client-show"),this.backdrop.classList.remove("osmosis-client-backdrop-show")},e.exports=s}])});
//# sourceMappingURL=osmosis-client.js.map